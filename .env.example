BACKEND_BIND_ADDR=0.0.0.0:8080

# Backend local + DB docker:
DATABASE_URL=postgres://postgres:postgres@localhost:5432/certy
# Backend docker + DB docker (docker-compose):
# DATABASE_URL=postgres://postgres:postgres@db:5432/certy

# Se definido, o backend só aceita chamadas com este header:
# X-Certy-Proxy-Token: <token>
PROXY_SHARED_TOKEN=

# Bind mount do Postgres (docker compose)
POSTGRES_DATA_DIR=./data/postgres

# API externa de validação de e-mail (Likn)
EMAIL_VALIDATION_API_URL=https://api.likn.dev/v1/public/email-validation/validate
EMAIL_VALIDATION_TIMEOUT_MS=4500

# Verificação por código enviada por e-mail
EMAIL_VERIFICATION_CODE_TTL_MINUTES=10
EMAIL_VERIFICATION_MAX_ATTEMPTS=5
EMAIL_VERIFICATION_SECRET=change-me-in-production

# SMTP (opcional em dev: se não configurar SMTP_HOST, o código será logado)
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=
SMTP_FROM_NAME=Certy
SMTP_STARTTLS=true

# Resolver para pré-checagem DNS antes da CA
DNS_CHECK_RESOLVER_URL=https://dns.google/resolve
DNS_CHECK_TIMEOUT_MS=4500

# Se quiser forçar uma URL custom de ACME, preencha ACME_DIRECTORY_URL.
# Caso deixe vazio, usa Let's Encrypt Production.
ACME_DIRECTORY_URL=

# true para homologação sem rate limit severo.
ACME_USE_STAGING=false

# Tempo de vida da sessão em minutos.
SESSION_TTL_MINUTES=60

# Retry/poll do ACME
ACME_POLL_TIMEOUT_SECONDS=120
ACME_POLL_INITIAL_DELAY_MS=500
ACME_POLL_BACKOFF=1.8

RUST_LOG=info
